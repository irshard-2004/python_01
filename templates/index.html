<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Event Booking System</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            background: linear-gradient(135deg, #1f1c2c, #928dab);
            color: #fff;
            min-height: 100vh;
        }
        .navbar {
            background-color: #0d1117;
        }
        .card {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: #fff;
            backdrop-filter: blur(10px);
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
        }
        .card:hover {
            transform: scale(1.03);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
        }
        .btn-primary {
            background-color: #0dcaf0;
            border: none;
        }
        .btn-primary:hover {
            background-color: #0bb5d4;
        }
        h2 {
            font-weight: bold;
            color: #fff;
            text-shadow: 1px 1px 2px #000;
        }
        .navbar-brand {
            font-weight: bold;
            font-size: 1.6rem;
        }
        .event-icon {
            font-size: 1.5rem;
            margin-right: 5px;
            color: #0dcaf0;
        }
        .date-time {
            color: #fff;
            font-size: 1rem;
            text-align: center;
            margin-top: 20px;
        }
    </style>
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-dark px-4">
    <a class="navbar-brand" href="#"><i class="fa-solid fa-calendar-check me-2"></i>Event Booking</a>
    <div class="ms-auto d-flex align-items-center">
        {% if session.name %}
            <span class="text-white me-3">Welcome, {{ session.name }}!</span>
            
            {% if session.is_admin %}
            
            {% endif %}
            
            <a href="{{ url_for('logout') }}" class="btn btn-outline-info">Logout</a>
        {% else %}
            <a href="{{ url_for('login') }}" class="btn btn-outline-info me-2">Login</a>
            <a href="{{ url_for('register') }}" class="btn btn-outline-info">Register</a>
        {% endif %}
    </div>
    
</nav>

<div class="container mt-5">
    <h2 class="mb-4 text-center"><i class="fa-solid fa-bolt-lightning me-2"></i>Explore & Book Events</h2>
    <div class="row">
        {% for event in events %}
        <div class="col-md-4">
            <div class="card mb-4 shadow-sm p-3">
                <div class="card-body">
                    <h5 class="card-title"><i class="fa-solid fa-star event-icon"></i>{{ event.title }}</h5>
                    <p class="card-text">{{ event.description }}</p>
                    <p><strong><i class="fa-solid fa-location-dot me-2"></i>Location:</strong> {{ event.location }}</p>
                    <p><strong><i class="fa-solid fa-calendar-days me-2"></i>Date:</strong> {{ event.event_date }}</p>
                    <p><strong><i class="fa-solid fa-clock me-2"></i>Time:</strong> {{ event.event_time }}</p>
                    <a href="{{ url_for('book', event_id=event.id) }}" class="btn btn-primary w-100 mt-2">
                        <i class="fa-solid fa-ticket me-2"></i>Book Now
                    </a>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>

<!-- Date and Time Section -->
<div class="date-time">
    <p id="current-date-time"></p>
</div>

<script>
    // JavaScript to display current date and time
    function updateDateTime() {
        var currentDateTime = new Date();
        var options = { year: 'numeric', month: 'long', day: 'numeric', hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: true };
        document.getElementById("current-date-time").innerText = "Current Date and Time: " + currentDateTime.toLocaleString('en-US', options);
    }

    // Update date and time every second
    setInterval(updateDateTime, 1000);
</script>

</body>
</html>
